#!/usr/bin/env python3

__all__ = (
    "Field",
)

"""
Java field abstraction.
"""

import typing
from abc import abstractmethod, ABC
from typing import Tuple

from ..types import BaseType

if typing.TYPE_CHECKING:
    from .class_ import Class


class Field(ABC):
    """
    An abstract representation of a Java field.
    """

    # ------------------------------ Access flags ------------------------------ #

    @property
    @abstractmethod
    def is_public(self) -> bool:
        """
        :return: Is this field public?
        """

        ...

    @is_public.setter
    @abstractmethod
    def is_public(self, value: bool) -> None:
        ...

    @property
    @abstractmethod
    def is_private(self) -> bool:
        """
        :return: Is this field private?
        """

        ...

    @is_private.setter
    @abstractmethod
    def is_private(self, value: bool) -> None:
        ...

    @property
    @abstractmethod
    def is_protected(self) -> bool:
        """
        :return: Is this field protected?
        """

        ...

    @is_protected.setter
    @abstractmethod
    def is_protected(self, value: bool) -> None:
        ...

    @property
    @abstractmethod
    def is_static(self) -> bool:
        """
        :return: Is this field static?
        """

        ...

    @is_static.setter
    @abstractmethod
    def is_static(self, value: bool) -> None:
        ...

    @property
    @abstractmethod
    def is_final(self) -> bool:
        """
        :return: Is this field final (cannot be re-assigned)?
        """

        ...

    @is_final.setter
    @abstractmethod
    def is_final(self, value: bool) -> None:
        ...

    @property
    @abstractmethod
    def is_volatile(self) -> bool:
        """
        :return: Is this field volatile (can't be cached)?
        """

        ...

    @is_volatile.setter
    @abstractmethod
    def is_volatile(self, value: bool) -> None:
        ...

    @property
    @abstractmethod
    def is_transient(self) -> bool:
        """
        :return: Is this field transient?
        """

        ...

    @is_transient.setter
    @abstractmethod
    def is_transient(self, value: bool) -> None:
        ...

    @property
    @abstractmethod
    def is_synthetic(self) -> bool:
        """
        :return: Is this field synthetic (generated by the compiler)?
        """

        ...

    @is_synthetic.setter
    @abstractmethod
    def is_synthetic(self, value: bool) -> None:
        ...

    @property
    @abstractmethod
    def is_enum(self) -> bool:
        """
        :return: Is this field an element of an enum class?
        """

        ...

    @is_enum.setter
    @abstractmethod
    def is_enum(self, value: bool) -> None:
        ...

    # ------------------------------ Other properties ------------------------------ #

    @property
    @abstractmethod
    def name(self) -> str:
        """
        :return: The name of this field.
        """

        ...

    @name.setter
    @abstractmethod
    def name(self, value: str) -> None:
        ...

    @property
    @abstractmethod
    def type(self) -> BaseType:
        """
        :return: The type of this field.
        """

        ...

    @type.setter
    @abstractmethod
    def type(self, value: BaseType) -> None:
        ...

    @property
    @abstractmethod
    def class_(self) -> "Class":
        """
        :return: The class that this field belongs to.
        """

        ...

    def get_reference(self) -> Tuple["Class", str, BaseType]:
        """
        :return: A reference to this field that can be used in instructions.
        """

        return (self.class_, self.name, self.type)

    def get_ref(self) -> Tuple["Class", str, BaseType]:
        """
        :return: A reference to this field that can be used in instructions.
        """

        return self.get_reference()
